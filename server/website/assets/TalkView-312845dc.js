import{b0 as p,r,d as k,o as t,c as l,a as d,e as u,u as o,w as v,b1 as w,N as T,h as y,i as b,F as H,b2 as N,aX as x}from"./index-fc38655f.js";const M=p("talk",()=>({messages:r([])})),B=d("div",null,"Talk",-1),L={class:"chat-input"},V=["innerHTML"],R=["innerHTML"],C=k({__name:"TalkView",setup(g){const c=M().messages,s=r(""),i=r(null),_=r(null);function f(){if(s.value==""){window.$message.warning("Empty");return}c.push("I: "+s.value),w(s.value).then(e=>{c.push("O: "+e),h()}).catch(e=>{console.log(e),window.$message.warning("Err Save: "+e)}),s.value=""}const h=()=>{console.log(i.value);const e=_.value.clientHeight,n=e-window.innerHeight*.75;console.log(e,n),i.value.scrollTo(0,n)};return(e,n)=>(t(),l("div",null,[B,d("div",L,[u(o(T),{value:s.value,"onUpdate:value":n[0]||(n[0]=a=>s.value=a),placeholder:":~$"},null,8,["value"]),u(o(b),{onClick:f},{default:v(()=>[y("输入")]),_:1})]),u(o(x),{style:{"max-height":"75vh"},ref_key:"scrollbarRef",ref:i},{default:v(()=>[d("div",{class:"chat-messages",ref_key:"contentRef",ref:_},[(t(!0),l(H,null,N(o(c).slice().reverse(),(a,m)=>(t(),l("div",{key:m},[a.substring(0,2)=="I:"?(t(),l("div",{key:0,class:"message1",innerHTML:a},null,8,V)):(t(),l("div",{key:1,class:"message2",innerHTML:a},null,8,R))]))),128))],512)]),_:1},512)]))}});export{C as default};
