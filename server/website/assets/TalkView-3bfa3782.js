import{d as p,r as o,o as l,c as t,a as d,e as u,u as i,w as _,b0 as m,N as w,h as k,i as T,F as y,b1 as b,aX as H}from"./index-57642882.js";const N=d("div",null,"Talk",-1),x={class:"chat-input"},M=["innerHTML"],B=["innerHTML"],R=p({__name:"TalkView",setup(L){const r=o([]),s=o(""),c=o(null),v=o(null);function f(){if(s.value==""){window.$message.warning("Empty");return}r.value.push("I: "+s.value),m(s.value).then(e=>{r.value.push("O: "+e),g()}).catch(e=>{console.log(e),window.$message.warning("Err Save: "+e)}),s.value=""}const g=()=>{console.log(c.value);const e=v.value.clientHeight,n=e-window.innerHeight*.75;console.log(e,n),c.value.scrollTo(0,n)};return(e,n)=>(l(),t("div",null,[N,d("div",x,[u(i(w),{value:s.value,"onUpdate:value":n[0]||(n[0]=a=>s.value=a),placeholder:":~$"},null,8,["value"]),u(i(T),{onClick:f},{default:_(()=>[k("输入")]),_:1})]),u(i(H),{style:{"max-height":"75vh"},ref_key:"scrollbarRef",ref:c},{default:_(()=>[d("div",{class:"chat-messages",ref_key:"contentRef",ref:v},[(l(!0),t(y,null,b(r.value.slice().reverse(),(a,h)=>(l(),t("div",{key:h},[a.substring(0,2)=="I:"?(l(),t("div",{key:0,class:"message1",innerHTML:a},null,8,M)):(l(),t("div",{key:1,class:"message2",innerHTML:a},null,8,B))]))),128))],512)]),_:1},512)]))}});export{R as default};
