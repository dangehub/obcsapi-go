(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-setting-setting"],{3252:function(e,i,t){"use strict";t.r(i);var n=t("667c"),a=t("69e3");for(var s in a)["default"].indexOf(s)<0&&function(e){t.d(i,e,(function(){return a[e]}))}(s);t("f198");var o=t("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"7c9a2fd8",null,!1,n["a"],void 0);i["default"]=r.exports},6245:function(e,i,t){var n=t("24fb");i=n(!1),i.push([e.i,".title[data-v-7c9a2fd8]{padding:5px 13px}.uni-input[data-v-7c9a2fd8]{height:28px;line-height:28px;font-size:15px;padding:0;flex:1;background-color:#dcdcdc}",""]),e.exports=i},"64a9":function(e,i,t){"use strict";(function(e){t("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={data:function(){return{info:{host:uni.getStorageSync("host"),serverVersion:"",configVersion:""},server_config:void 0}},mounted:function(){this.getInfo()},methods:{getInfo:function(){var i=this;uni.request({url:uni.getStorageSync("host")+"/info",success:function(e){i.info.serverVersion=e.data.server_version,i.info.configVersion=e.data.config_version}}),uni.request({url:uni.getStorageSync("host")+"/api/v1/config",header:{Authorization:uni.getStorageSync("token")},success:function(e){i.server_config=e.data},fail:function(i){e("log",i," at pages/setting/setting.vue:197")}})},saveConfig:function(){var i=this;uni.showModal({content:"保存配置?",success:function(t){t.confirm&&uni.request({method:"POST",url:uni.getStorageSync("host")+"/api/v1/config",header:{Authorization:uni.getStorageSync("token")},data:i.server_config,success:function(t){e("log",t.data," at pages/setting/setting.vue:216"),i.getInfo()},fail:function(i){uni.showModal({content:"失败"+i}),e("log",i," at pages/setting/setting.vue:223")}})}})},reLogin:function(){uni.removeStorageSync("token"),uni.redirectTo({url:"/pages/login/login"})},webdavServerChange:function(e){this.server_config.webdav.server=e.detail.value},clearCache:function(){uni.removeStorageSync("mainMdList")},imageHostingChange:function(e){this.server_config.image_hosting.use_raw_name=e.detail.value},emailTest:function(){uni.showModal({content:"发送邮件?",success:function(i){i.confirm&&uni.request({url:uni.getStorageSync("host")+"/api/v1/mailtest",header:{Authorization:uni.getStorageSync("token")},success:function(i){e("log",i.data," at pages/setting/setting.vue:257")},fail:function(i){e("log",i," at pages/setting/setting.vue:260")}})}})}}};i.default=n}).call(this,t("0de9")["log"])},"667c":function(e,i,t){"use strict";t.d(i,"b",(function(){return a})),t.d(i,"c",(function(){return s})),t.d(i,"a",(function(){return n}));var n={uniSection:t("ebe7").default},a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"container"},[t("v-uni-view",{staticClass:"uni-common-mt"},[t("uni-section",{attrs:{title:"基本信息",type:"line",padding:!0}},[t("h3",[e._v("Obcsapi")]),t("div",[t("a",{attrs:{href:"https://kkbt.gitee.io/obcsapi-go/#/"}},[e._v("kkbt/obcsapi-go 文档")])]),e._v("server_host: "+e._s(e.info.host)),t("br"),e._v("server_version: "+e._s(e.info.serverVersion)),t("br"),e._v("config_veriosn: "+e._s(e.info.configVersion)),t("br")]),void 0!=e.server_config?t("div",[t("uni-section",{attrs:{title:"WebDav",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("Obsidian Daily Setting")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("ObDailyDir")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"日志/"},model:{value:e.server_config.ob_daily_config.ob_daily_dir,callback:function(i){e.$set(e.server_config.ob_daily_config,"ob_daily_dir",i)},expression:"server_config.ob_daily_config.ob_daily_dir"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("ObDailyAttachmentDir")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"日志/附件/"},model:{value:e.server_config.ob_daily_config.ob_daily_attachment_dir,callback:function(i){e.$set(e.server_config.ob_daily_config,"ob_daily_attachment_dir",i)},expression:"server_config.ob_daily_config.ob_daily_attachment_dir"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("ObOtherDataDir")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"支持类文件/"},model:{value:e.server_config.ob_daily_config.ob_other_data_dir,callback:function(i){e.$set(e.server_config.ob_daily_config,"ob_other_data_dir",i)},expression:"server_config.ob_daily_config.ob_other_data_dir"}})],1)],1),t("uni-section",{attrs:{title:"WebDav",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("LocalStorage (RemotelySave WebDav) 用户自定义账户密码")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Server")]),t("v-uni-switch",{attrs:{checked:"server_config.webdav.server"},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.webdavServerChange.apply(void 0,arguments)}}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Username")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"WebDav Username"},model:{value:e.server_config.webdav.username,callback:function(i){e.$set(e.server_config.webdav,"username",i)},expression:"server_config.webdav.username"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Password")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"WebDav Password"},model:{value:e.server_config.webdav.password,callback:function(i){e.$set(e.server_config.webdav,"password",i)},expression:"server_config.webdav.password"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("ObLocalDir")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"WebDav ObLocalDir"},model:{value:e.server_config.webdav.ob_local_dir,callback:function(i){e.$set(e.server_config.webdav,"ob_local_dir",i)},expression:"server_config.webdav.ob_local_dir"}})],1)],1),t("uni-section",{attrs:{title:"Mail",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("Smtp邮箱设置")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Host")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"smtpdm.aliyun.com"},model:{value:e.server_config.mail.smtp_host,callback:function(i){e.$set(e.server_config.mail,"smtp_host",i)},expression:"server_config.mail.smtp_host"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("SmtpPort")]),t("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",placeholder:"80"},model:{value:e.server_config.mail.smtp_port,callback:function(i){e.$set(e.server_config.mail,"smtp_port",e._n(i))},expression:"server_config.mail.smtp_port"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("UserName")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"no-reply@example.com"},model:{value:e.server_config.mail.user_name,callback:function(i){e.$set(e.server_config.mail,"user_name",i)},expression:"server_config.mail.user_name"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Password")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"xxxxxx"},model:{value:e.server_config.mail.password,callback:function(i){e.$set(e.server_config.mail,"password",i)},expression:"server_config.mail.password"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("SenderEmail")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"no-reply@example.com"},model:{value:e.server_config.mail.sender_email,callback:function(i){e.$set(e.server_config.mail,"sender_email",i)},expression:"server_config.mail.sender_email"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("SenderName")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"ObCSAPI"},model:{value:e.server_config.mail.sender_name,callback:function(i){e.$set(e.server_config.mail,"sender_name",i)},expression:"server_config.mail.sender_name"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("ReceiverEmail")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"xxx@gmail.com"},model:{value:e.server_config.mail.receiver_email,callback:function(i){e.$set(e.server_config.mail,"receiver_email",i)},expression:"server_config.mail.receiver_email"}})],1)],1),t("uni-section",{attrs:{title:"ImageHosting",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("ImageHosting 图床文件 有四部分构成 url 文件夹及前缀，原名字，随机字符。图床文件夹及文件前缀 eg 2006-01-02 15:04:05 如\n\t\t\t\t\t\t\t按月存放是 01/ ; 按 年存放 2006/ ; 文件前缀 200601 ; 文件夹和文件前缀 200601/200601_")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("BaseURL 可自定义")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"http://localhost:8900/images/"},model:{value:e.server_config.image_hosting.base_url,callback:function(i){e.$set(e.server_config.image_hosting,"base_url",i)},expression:"server_config.image_hosting.base_url"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("Prefix 前缀")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"200601/kkbt_"},model:{value:e.server_config.image_hosting.prefix,callback:function(i){e.$set(e.server_config.image_hosting,"prefix",i)},expression:"server_config.image_hosting.prefix"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("UseRawName 图床文件是否使用原名字 true or false")]),t("v-uni-switch",{attrs:{checked:"server_config.image_hosting.use_raw_name"},on:{change:function(i){arguments[0]=i=e.$handleEvent(i),e.imageHostingChange.apply(void 0,arguments)}}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("RandomCharLength 图床文件随机字符命名 随机字符长度")]),t("v-uni-input",{staticClass:"uni-input",attrs:{type:"number",placeholder:"5"},model:{value:e.server_config.image_hosting.random_char_length,callback:function(i){e.$set(e.server_config.image_hosting,"random_char_length",e._n(i))},expression:"server_config.image_hosting.random_char_length"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("BdOcrAccessToken 百度 OCR https://ai.baidu.com/ai-doc/OCR/zk3h7xz52\n\t\t\t\t\t\t该项置空或删除此项则不进行 OCR 注意该项有效期 30 天")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"xxxxx.xxxxx.xxxxx.xxxxx.xxxxx-xxxxx"},model:{value:e.server_config.image_hosting.bd_ocr_access_token,callback:function(i){e.$set(e.server_config.image_hosting,"bd_ocr_access_token",i)},expression:"server_config.image_hosting.bd_ocr_access_token"}})],1)],1),t("uni-section",{attrs:{title:"WechatMp",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("微信公众号")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("返回文字")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"📩 已保存，<a href='https://note.ftls.xyz/#/ZK/202209050658'>点击查看今日笔记</a>"},model:{value:e.server_config.wechat_mp.return_str,callback:function(i){e.$set(e.server_config.wechat_mp,"return_str",i)},expression:"server_config.wechat_mp.return_str"}})],1)],1),t("uni-section",{attrs:{title:"Reminder",type:"line",padding:!0}},[t("v-uni-view",[t("v-uni-text",[t("small",[e._v("任务提醒")])])],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("每天邮件提醒时间")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"0800"},model:{value:e.server_config.reminder.daily_email_remder_time,callback:function(i){e.$set(e.server_config.reminder,"daily_email_remder_time",i)},expression:"server_config.reminder.daily_email_remder_time"}})],1),t("v-uni-view",[t("v-uni-view",{staticClass:"title"},[e._v("微信识别日期使用词典 可选 full  200k 100k 20k  10k")]),t("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"dictionary-200k.txt"},model:{value:e.server_config.reminder.reminder_dicionary,callback:function(i){e.$set(e.server_config.reminder,"reminder_dicionary",i)},expression:"server_config.reminder.reminder_dicionary"}})],1)],1),t("v-uni-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.saveConfig.apply(void 0,arguments)}}},[e._v("保存配置")]),t("br"),t("v-uni-button",{staticClass:"button",attrs:{type:"primary"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.emailTest.apply(void 0,arguments)}}},[e._v("邮件测试")])],1):e._e()],1),t("uni-section",{attrs:{title:"注销",type:"line",padding:!0}},[t("v-uni-button",{staticClass:"button",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.clearCache.apply(void 0,arguments)}}},[e._v("清除缓存")]),t("br"),t("v-uni-button",{staticClass:"button",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.reLogin.apply(void 0,arguments)}}},[e._v("注销")])],1)],1)},s=[]},"69e3":function(e,i,t){"use strict";t.r(i);var n=t("64a9"),a=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(s);i["default"]=a.a},"7ac4":function(e,i,t){var n=t("ecd8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=t("4f06").default;a("1c34bce6",n,!0,{sourceMap:!1,shadowMode:!1})},b56d:function(e,i,t){"use strict";var n=t("7ac4"),a=t.n(n);a.a},ca67:function(e,i,t){"use strict";t.r(i);var n=t("f3e6"),a=t.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){t.d(i,e,(function(){return n[e]}))}(s);i["default"]=a.a},cfbd:function(e,i,t){"use strict";t.d(i,"b",(function(){return n})),t.d(i,"c",(function(){return a})),t.d(i,"a",(function(){}));var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"uni-section"},[t("v-uni-view",{staticClass:"uni-section-header",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.onClick.apply(void 0,arguments)}}},[e.type?t("v-uni-view",{staticClass:"uni-section-header__decoration",class:e.type}):e._t("decoration"),t("v-uni-view",{staticClass:"uni-section-header__content"},[t("v-uni-text",{staticClass:"uni-section__content-title",class:{distraction:!e.subTitle},style:{"font-size":e.titleFontSize,color:e.titleColor}},[e._v(e._s(e.title))]),e.subTitle?t("v-uni-text",{staticClass:"uni-section-header__content-sub",style:{"font-size":e.subTitleFontSize,color:e.subTitleColor}},[e._v(e._s(e.subTitle))]):e._e()],1),t("v-uni-view",{staticClass:"uni-section-header__slot-right"},[e._t("right")],2)],2),t("v-uni-view",{staticClass:"uni-section-content",style:{padding:e._padding}},[e._t("default")],2)],1)},a=[]},d3d2:function(e,i,t){var n=t("6245");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=t("4f06").default;a("0cc035d8",n,!0,{sourceMap:!1,shadowMode:!1})},ebe7:function(e,i,t){"use strict";t.r(i);var n=t("cfbd"),a=t("ca67");for(var s in a)["default"].indexOf(s)<0&&function(e){t.d(i,e,(function(){return a[e]}))}(s);t("b56d");var o=t("f0c5"),r=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"52a816e0",null,!1,n["a"],void 0);i["default"]=r.exports},ecd8:function(e,i,t){var n=t("24fb");i=n(!1),i.push([e.i,'@charset "UTF-8";\n/* 水平间距 */\n/* 水平间距 */.items-img img[data-v-52a816e0]{width:50%}img[data-v-52a816e0]{width:100%;height:auto}.container[data-v-52a816e0]{padding:5px;font-size:14px;line-height:24px}.uni-section[data-v-52a816e0]{background-color:#fff}.uni-section .uni-section-header[data-v-52a816e0]{position:relative;display:flex;flex-direction:row;align-items:center;padding:12px 10px;font-weight:400}.uni-section .uni-section-header__decoration[data-v-52a816e0]{margin-right:6px;background-color:#2979ff}.uni-section .uni-section-header__decoration.line[data-v-52a816e0]{width:4px;height:12px;border-radius:10px}.uni-section .uni-section-header__decoration.circle[data-v-52a816e0]{width:8px;height:8px;border-top-right-radius:50px;border-top-left-radius:50px;border-bottom-left-radius:50px;border-bottom-right-radius:50px}.uni-section .uni-section-header__decoration.square[data-v-52a816e0]{width:8px;height:8px}.uni-section .uni-section-header__content[data-v-52a816e0]{display:flex;flex-direction:column;flex:1;color:#333}.uni-section .uni-section-header__content .distraction[data-v-52a816e0]{flex-direction:row;align-items:center}.uni-section .uni-section-header__content-sub[data-v-52a816e0]{margin-top:2px}.uni-section .uni-section-header__slot-right[data-v-52a816e0]{font-size:14px}.uni-section .uni-section-content[data-v-52a816e0]{font-size:14px}',""]),e.exports=i},f198:function(e,i,t){"use strict";var n=t("d3d2"),a=t.n(n);a.a},f3e6:function(e,i,t){"use strict";t("7a82"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding:function(){return"string"===typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title:function(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick:function(){this.$emit("click")}}};i.default=n}}]);